<!DOCTYPE html>
 <html lang="ja">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>ウェブコンポーネント（part, slot, host, exportparts）</title>
   <style>
     ::part(desu)::after {
       content: "果物です。";
     }
     ::part(dayo) {
       color: red;
     }
   </style>
 </head>
 <body>
   <wrap->
     <span slot="name">フリーザ</span>
     <span slot="old">40</span>
   </wrap->
   <test->
     <span slot="name">ももも</span>
     <span slot="old">12</span>
   </test->
   <test- class="apple">
     <span slot="name" class="banana">バナナ</span>
     <span slot="old">15</span>
   </test->
   <wrap-></wrap->
   <test-></test->
 
   <template define="test-">
     <style>
       :host {
         display: block;
         background: #00f2;
       }
       :host(.apple) {
         background: #f002;
       }
       ::slotted(*) {
         background: #0f04;
       }
       ::slotted(.banana) {
         background: #ff09;
       }
     </style>
     <p>名前は<slot name="name">「デフォ名前1」</slot><span part="desu">です。</span></p>
     <p>年齢<slot name="old">「デフォ歳1」</slot>歳<span part="dayo">だよ！！</span></p>
   </template>
 
   <template define="wrap-">
     <style>
       ::part(desu)::after {
         content: "宇宙人です。";
       }
     </style>
     <test- exportparts="dayo">
       <slot name="name" slot="name">「デフォ名前2」</slot>
       <slot name="old" slot="old">「デフォ歳2」</slot>
     </test->
   </template>

   <script>document.querySelectorAll('template[define]').forEach(t=>{customElements.define(t.getAttribute('define'),class extends HTMLElement{constructor(){super().attachShadow({mode:'open'}).append(t.content.cloneNode(1))}})})</script>
 </body>
 </html>